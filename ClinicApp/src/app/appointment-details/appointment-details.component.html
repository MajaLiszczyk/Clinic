<p>appointment-details works!</p>
<p>appointment-details works!</p>
<h4>MEDICAL APPOINTMENT</h4>
<p></p>
<h5 class="display-7 d-flex justify-content-center mt-5 mb-3 pt-3 pb-3">Time: {{medicalAppointment.dateTime}}
  Patient id: {{medicalAppointment.patientId}} Is editable: {{isEditable}}</h5>


<form [formGroup]="medicalAppointmentForm">
  <label for="textbox">Interview:</label>
  <!-- <input id="textbox" type="text" formControlName="interviewText" /> -->
  <input id="interview" formControlName="interviewText" type="text" class="form-control">
  <p></p>

  <label for="textbox">Diagnosis:</label>
  <input id="textbox" type="text" formControlName="diagnosisText" />

</form>

<form [formGroup]="chooseDiagnosticTestTypeForm" *ngIf="isEditable" >
  <div class="form-group">
    <label for="diagnosticTypeTestType">Diagnostic Test Type:</label>
    <select id="diagnosticTypeTestType" class="form-control" formControlName="diagnosticTypeTestType">
      <option *ngFor="let diagnosticTestType of diagnosticTestTypes" [ngValue]="diagnosticTestType">
        {{ diagnosticTestType.name }}
      </option>
    </select>
  </div>
  <div>
    <div class="d-flex justify-content-center mb-4">
      <button [disabled]="isDisabled" type="button" class="btn  btn-success float-right mx-2 mt-5 "
        (click)="selectDiagnosticTestType()">Select</button>
    </div>
  </div>
</form>

<form [formGroup]="diagnosticTestForm" *ngIf="isDiagnosticTestAddingMode || isDiagnosticTestEditableMode">
  <label for="textbox">Type:</label>
  <input id="diagnosticTestTypeName" formControlName="diagnosticTestTypeName" type="text" class="form-control">
  <p></p>

  <label for="textbox">Description:</label>
  <input id="description" type="text" formControlName="description" />

  <div class="d-flex justify-content-center mb-4 mt-5">
    <button *ngIf="isDiagnosticTestAddingMode" type="button" class="btn  btn-success float-right mx-2 "
      (click)="saveDiagnosticTest()">Save Diagnostic Test</button>
    <button (click)="cancelAddingDiagnosticTest()" class="btn btn-secondary">Cancel</button>
    <button *ngIf="isDiagnosticTestEditableMode" type="button" class="btn  btn-success float-right mx-2 "
      (click)="updateDiagnosticTest()">Save
      etitioned diagnosticTest</button>



  </div>
</form>

<div>
  <table class="table table-striped">
    <thead class="thead-dark">
      <tr>
        <th>
          Diagnostic Test
        </th>
        <th>

        </th>
      </tr>

    </thead>
    <tr *ngFor="let pastDiagnosticTest of pastDiagnosticTests">
      <td>
        Diagnostic test type: {{pastDiagnosticTest.diagnosticTestTypeName}}
        <br/>
        Description: {{pastDiagnosticTest.description}}
      </td>
      <td *ngIf="isEditable">
        <button [disabled]="isDiagnosticTestAddingMode || isDiagnosticTestEditableMode" type="button" class="btn  btn-success float-right"
          (click)="edit(pastDiagnosticTest)">Edit</button>
        <button [disabled]="isDiagnosticTestAddingMode || isDiagnosticTestEditableMode" type="button" class="btn  btn-success float-right"
          (click)="delete(pastDiagnosticTest.id)">Delete</button>
      </td>
    </tr>
    <tr *ngIf="pastDiagnosticTests.length === 0">
      <td colspan="8">No diagnosticTest</td>
    </tr>
  </table>
</div>









<div *ngIf="isEditable">
  <button (click)="saveAnAppointment()" class="btn btn-success w-50">Finish the appointment</button>
  <button (click)="cancelAnAppointment()" class="btn btn-success w-50">Cancel the appointment</button>

  <!-- <a [routerLink]="['/doctor-appointments', medicalAppointment.doctorId]" class="btn btn-success w-50">Cancel</a> -->
</div>




<!--<p>Interview: {{ interview }}</p>
  <p>Diagnosis: {{ interview }}</p> -->